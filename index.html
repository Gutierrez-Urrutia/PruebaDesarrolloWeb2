<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- Bootswatch Lux -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.3/lux/bootstrap.min.css"
        integrity="sha512-RI2S7J+KOTIVVh6JxrBRNIxJjIioHORVNow+SSz2OMKsDLG5y/YT6iXEK+R0LlKBo/Uwr1O063yT198V6AZh4w=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- CSS Custom -->
    <link rel="stylesheet" href="./assets/css/styleIndex.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.2.0/crypto-js.min.js" integrity="sha512-a+SUDuwNzXDvz4XrIcXHuCf089/iJAoN4lmrXJg18XnduKK6YlDHNRalv4yd1N40OKI80tFidF+rqTFKGPoWFQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>

<body id="superman-scroll">
    <div>
        <img class="banner" src="./assets/img/BannerComic.jpg" alt="">
    </div>
    <nav class="navbar navbar-expand-lg bg-primary" data-bs-theme="dark">
        <div class="container d-flex justify-content-center">
            <div class="row ">
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarColor01"
                    aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarColor01">
                    <ul class="navbar-nav me-auto">
                        <li class="nav-item">
                            <a class="nav-link active" href="./index.html">INICIO
                            </a>
                        </li>
                        <li class="nav-item">
                            <a id="js" class="nav-link" href="#galeria">PRODUCTOS</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="./login.html">INGRESAR</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="./contacto.html">CONTACTO</a>
                        </li>
                    </ul>
                    <a href="./carrito.html"><i class="ms-5 me-4 fa-solid fa-cart-shopping fa-3x"></i></a>
                </div>
                <div class="row mt-3">
                    <form class="d-flex">
                        <input class="form-control me-sm-2" type="search" placeholder="Buscar">
                        <button class="btn btn-secondary my-2 my-sm-0" type="submit">Buscar</button>
                    </form>
                </div>
            </div>
        </div>
    </nav>
    <div id="carouselExample" class="carousel slide d-none d-md-block" data-bs-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active" data-bs-interval="4000">
                <img src="./assets/img/foto 1.jpg" class="d-block w-100 carrusel" alt="...">
            </div>
            <div class="carousel-item" data-bs-interval="4000">
                <img src="./assets/img/Banner2.jpg" class="d-block w-100 carrusel" alt="...">
                <p class="texto1">¡BIENVENIDO A COMIC STORE!</p>
            </div>
            <div class="carousel-item" data-bs-interval="4000">
                <img src="./assets/img/Banner3.jpg" class="d-block w-100 carrusel" alt="...">
                <p class="texto2">Ingresa el código<span class="codigo">COMICSTORE1</span> y obtén un 10% de descuento en tu primera compra!</p>
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
    <div id="galeria" class="galeria container-fluid py-5 text-center">
        <p class="titulo">¡Recién llegados!</p>
        <div id="comics" class="row">
            

        </div>


    </div>
    <div class="container mt-4">
        <div class="row">
            <div class="col-12">
                    <a class="nav-link" href="#superman-scroll"><img src="./assets/img/superman.png" alt="Superman" class="superman-icon" id="scroll-top-icon"></a>
            </div>
        </div>
    </div>
    <!--Footer-->
    <footer class="footer mt-auto py-3 bg-dark text-white d-flex justify-content-between align-items-center">
        <div class="ms-5">
            <span>© 2024 Comic Store. Todos los derechos reservados.</span>
        </div>
        <div class="social-icons me-5">
            <a href="https://www.instagram.com/" target="_blank" class="me-3 text-white">
                <i class="fab fa-instagram fs-1"></i>
            </a>
            <a href="https://www.facebook.com/" target="_blank" class="me-3 text-white">
                <i class="fab fa-facebook-f fs-1"></i>
            </a>
        </div>
    </footer>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            getComics();
        });
        async function getComics(){
            const publicKey ='96a3834334b5035f61b7ab28551e9e93';
            const privateKey = '24200ee263c222c28fc65e88fc43d0d5c13502fd';
            const timeStamp = new Date().getTime();
            const hash =    CryptoJS.MD5(timeStamp + privateKey + publicKey);
            const apiUrl = 'https://gateway.marvel.com/v1/public/comics';
            const url = `${apiUrl}?ts=${timeStamp}&apikey=${publicKey}&hash=${hash}`;
            try{
                //Se ejecuta cuando todo anda bien
                const comics = await fetch(url);
                const comicsJson = await comics.json();
                console.log(comicsJson.data.results);
                

                const divComics = document.getElementById('comics');
                const arrayComics = [];
                comicsJson.data.results.forEach(comic => {
                    
                if(comic.id != 82967 && comic.id != 82965 && comic.id != 1590 && comic.id != 183 && comic.id != 2088 && comic.id != 1749 && comic.id !=1158 && comic.id != 1689 && comic.id != 1220 && comic.id != 1308 && comic.id !=1994 && comic.id != 1332){
                        
                        divComics.innerHTML += ` <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 my-3">
                                                <div class="card">
                                                    <img src="${comic.thumbnail.path}.${comic.thumbnail.extension}" class="card-img-top" alt="..." style="max-height: 624.88px;">
                                                    <div class="card-body">
                                                        <h5 class="card-title">${comic.title}</h5>
                                                        <p class="card-text">$12000</p>
                                                    </div>
                                                    <div class="d-grid">
                                                        <button class="btn btn-dark btn-block" onclick="location.href='./vistaProducto.html'">Comprar</button>
                                                    </div>
                                                </div>
                                            </div>`
                    
                    };
                    
                });
            
            }
            catch (error){
                //Se ejecuta cuando hay un error
                console.log(error);
            };
        }; 
    </script>
    <!-- Bootswatch Script Js and Popper -->
    
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
        integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
        crossorigin="anonymous"></script>
    <script src="./assets/js/script.js"></script>
</body>

</html>